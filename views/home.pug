extends main
include includes/modalHelper.pug

block title
    title Expeditie Grensland

append scripts
    script(src='https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js' integrity='sha256-DHF4zGyjT7GOMPBwpeehwoey18z8uiz98G4PRu2lV0A=' crossorigin='anonymous')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js' integrity='sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49' crossorigin='anonymous')
    script(src='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js' integrity='sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy' crossorigin='anonymous')

    script(src="/scripts-dist/home.js")

append styles
    link(rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css' integrity='sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO' crossorigin='anonymous')

    link(rel='stylesheet' href='/styles-dist/home.css' type='text/css')

    style(type="text/css").
        #columns {
            width: #{Math.max(100, 100*expedities.length/5)}%;
        }

        @media screen and (max-width: 1500px) {
            #columns {
                width: #{Math.max(100, 100*expedities.length/4)}%;
            }
        }

        @media screen and (max-width: 1200px) {
            #columns {
                width: #{Math.max(100, 100*expedities.length/3)}%;
            }
        }

        @media screen and (max-width: 900px) {
            #columns {
                width: #{Math.max(100, 100*expedities.length/2)}%;
            }
        }

        @media screen and (max-width: 600px) {
            #columns {
                width: #{Math.max(100, 100*expedities.length/1)}%;
            }

            .column:hover {
                flex-grow: 1
            }

            .links {
                height: 100%
            }
        }

block body
    a.arrow.left

    #columns
        each expeditie in expedities
            .column
                .background(style=`background-color:${expeditie.color};background-image:url(${expeditie.background.imageUrl})`)
                .expeditie(id=expeditie.nameShort)
                    h1= expeditie.name
                    h2= expeditie.subtitle
                .links
                    if expeditie.movieUrl !== null
                        button.link.btn.btn-default.btn-secondary(data-toggle='modal' href='.movieModal' + expeditie.nameShort)
                            | #{t_ucf('movie')}
                    if expeditie.showMap
                        a.link.btn.btn-default.btn-primary(href=expeditie.nameShort role="button")
                            | #{t_ucf('map')}

    a.arrow.right

    #modals
        each expeditie in expedities
            if expeditie.movieUrl !== null
                +modal('videoModal movieModal' + expeditie.nameShort, expeditie.name + ": " + t('movie_additive'))(class="modal-lg")
                    .embed-responsive.embed-responsive-16by9
                        video.embed-responsive-item(controls poster=expeditie.movieCoverUrl preload='auto')
                            source(src=expeditie.movieUrl type='video/mp4' preload='metadata')
                            p Sorry, your browser doesn't support viewing this video.
