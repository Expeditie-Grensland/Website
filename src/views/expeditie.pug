extends main
include includes/expeditieMedia.pug

block title
    title Expeditie #{expeditie.name}

append scripts
    script(src='/static/scripts/public.js')

block styles
    link(rel='stylesheet' href='/static/styles/public.css')

block body
    .container.text-center
        nav.navbar.navbar-dark.navbar-expand
            ul.navbar-nav
                li.nav-item
                    a.nav-link(href="/") &larr;&nbsp;Home

            ul.navbar-nav.ml-auto
                li.nav-item
                    if loggedIn
                        a.nav-link(href="/leden")= user.name
                    else
                        a.nav-link(href="/leden/login") Log In

        .row
            .col
                .img-large.embed-responsive
                    +innerImage(expeditie)


        .row
            .col-12.col-md-4.order-md-2.members.text-md-right
                if expeditie.showMap
                    a.btn.btn-map.btn-outline-light(href=`/${expeditie.nameShort}/kaart`) Open de Kaart

                each person in expeditie.personIds.sort(function(a, b) {return (a.name > b.name) ? 1 : -1})
                    span= person.name

            .col-12.col-md-8.order-md-1
                if expeditie.movieFile && (!expeditie.movieFile.restricted || loggedIn)
                    .embed-responsive.embed-responsive-16by9
                        video.embed-responsive-item(controls poster=getFileUrl(expeditie.movieCoverFile) preload="none")
                            source(src=getFileUrl(expeditie.movieFile) type=expeditie.movieFile.mime)
                            p Sorry, deze video wordt niet door je browser ondersteund.
